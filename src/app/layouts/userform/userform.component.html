
<main>
    <div class="container">
        <header class="heading">
            <div class="green-bar"></div>
            <h1 id="title" class="main-heading">Patient Information Form</h1>
            <p id="description" class="main-description">
                Please provide the following information about the patient.
            </p>
            <hr>
            <p class="instructions"><span class="required">*</span> Indicates required fields</p>
        </header>

        <!-- Updated Angular template (userform.component.html) -->

        <form (ngSubmit)="onSubmit()" class="your-form-class">
            <!-- Informations sur le patient -->
            <label for="firstName">Prénom :</label>
            <input type="text" id="firstName" [(ngModel)]="newPatient.firstName" required />

            <label for="lastName">Nom :</label>
            <input type="text" id="lastName" [(ngModel)]="newPatient.lastName" required />

            <label for="age">Âge :</label>
            <input type="number" id="age" [(ngModel)]="newPatient.age" required />

            <label for="gender">Genre :</label>
            <select name="gender" id="gender" class="gender" [(ngModel)]="newPatient.gender" required>
                <option value="">Sélectionnez le genre</option>
                <option value="homme">Homme</option>
                <option value="femme">Femme</option>
                <option value="autre">Autre</option>
            </select>

            <label for="maritalStatus">État civil :</label>
            <input type="text" id="maritalStatus" [(ngModel)]="newPatient.maritalStatus" />

            <label for="educationLevel">Niveau d'éducation :</label>
            <input type="text" id="educationLevel" [(ngModel)]="newPatient.educationLevel" />

            <label for="admissionDate" id="admissionDate-label">Date d'admission<span class="required">*</span></label>
            <input type="date" name="admissionDate" id="admissionDate" class="admissionDate"
                   [(ngModel)]="newPatient.admissionDate" bsDatepicker required />

            <!-- Données médicales -->
            <label for="diagnostic">Diagnostic médical :</label>
            <textarea id="diagnostic" [(ngModel)]="newPatient.medicalData.diagnostic"></textarea>

            <!-- Particularités cliniques -->
            <label for="allergy">Allergie  <input type="checkbox" id="allergy" [(ngModel)]="newPatient.clinicalParticulars.allergy" /> </label>


            <label for="allergyDescription">Description de l'allergie :</label>
            <input type="text" id="allergyDescription" [(ngModel)]="newPatient.clinicalParticulars.allergyDescription" />

            <label for="surgicalHistory">Antécédents chirurgicaux <input type="checkbox" id="surgicalHistory" [(ngModel)]="newPatient.clinicalParticulars.surgicalHistory" /> </label>


            <label for="surgicalDescription">Description chirurgicale :</label>
            <input type="text" id="surgicalDescription" [(ngModel)]="newPatient.clinicalParticulars.surgicalDescription" />

            <!-- Éléments de surveillance -->
            <label for="bloodPressure">Pression artérielle :</label>
            <input type="text" id="bloodPressure" [(ngModel)]="newPatient.surveillanceElements.vitalSigns.bloodPressure" />

            <label for="pulse">Pouls :</label>
            <input type="number" id="pulse" [(ngModel)]="newPatient.surveillanceElements.vitalSigns.pulse" />

            <label for="respiratoryRate">Fréquence respiratoire :</label>
            <input type="number" id="respiratoryRate" [(ngModel)]="newPatient.surveillanceElements.vitalSigns.respiratoryRate" />

            <label for="temperature">Température :</label>
            <input type="number" id="temperature" [(ngModel)]="newPatient.surveillanceElements.vitalSigns.temperature" />

            <label for="spO2">Saturation en oxygène (SpO2) :</label>
            <input type="number" id="spO2" [(ngModel)]="newPatient.surveillanceElements.vitalSigns.spO2" />

            <!-- Alertes -->
            <label for="weight">Poids :</label>
            <input type="number" id="weight" [(ngModel)]="newPatient.surveillanceElements.alerts.weight" />

            <label for="height">Taille :</label>
            <input type="number" id="height" [(ngModel)]="newPatient.surveillanceElements.alerts.height" />

            <label for="BMI">Indice de masse corporelle (IMC) :</label>
            <input type="number" id="BMI" [(ngModel)]="newPatient.surveillanceElements.alerts.BMI" [value]="calculateBMI()"  />

            <label for="observations">Observations :</label>
            <textarea id="observations" [(ngModel)]="newPatient.surveillanceElements.alerts.observations"></textarea>

            <!-- Sélection du bloc et de la chambre -->
            <label for="bloc" id="bloc-label">Service<span class="required">*</span></label>
            <select name="bloc" id="bloc" class="bloc" [(ngModel)]="newPatient.blocId" (change)="onBlocChange()" required>
                <option value="">Choisir le service</option>
                <option *ngFor="let bloc of blocs" [value]="bloc._id">{{ bloc.name }}</option>
            </select>

            <label for="room" id="room-label">Chambre<span class="required">*</span></label>
            <select name="room" id="room" class="room" [(ngModel)]="newPatient.roomId" (change)="onRoomChange()" required>
                <option value="">Choisir la chambre</option>
                <option *ngFor="let room of rooms" [value]="room._id">{{ room.roomNumber }}</option>
            </select>

            <button class="submit" type="submit">Soumettre</button>
        </form>

    </div>
</main>





